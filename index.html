<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gráficos com Rótulos de Dados</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>
</head>
<body>
    <canvas id="turno1" width="400" height="200"></canvas>
    <canvas id="turno2" width="400" height="200"></canvas>
    <canvas id="comparativo" width="400" height="200"></canvas>

    <script>
        // Registrar o plugin de datalabels no Chart.js
        Chart.register(ChartDataLabels);

        // Configuração dos dados e opções para o gráfico do turno 1
        const turno1Data = {
            labels: ["Operador A", "Operador B", "Operador C"],
            datasets: [{
                label: "Eficiência (%) - Turno 1",
                data: [75.5, 88.3, 92.1],
                backgroundColor: "rgba(75, 192, 192, 0.6)"
            }]
        };

        const turno1Options = {
            responsive: true,
            plugins: {
                title: {
                    display: true,
                    text: "Eficiência dos Operadores - Turno 1"
                },
                datalabels: {
                    display: true,
                    color: 'black',
                    anchor: 'end',
                    align: 'top',
                    formatter: (value) => value.toFixed(2) + '%'  // Exibe o valor com duas casas decimais seguido de "%"
                }
            },
            scales: {
                y: {
                    beginAtZero: true,
                    max: 100  // Define o limite máximo do eixo y como 100%
                }
            }
        };

        // Inicializar o gráfico do turno 1
        const turno1Chart = new Chart(
            document.getElementById("turno1").getContext("2d"),
            {
                type: "bar",
                data: turno1Data,
                options: turno1Options
            }
        );

        // Configuração dos dados e opções para o gráfico do turno 2
        const turno2Data = {
            labels: ["Operador D", "Operador E", "Operador F"],
            datasets: [{
                label: "Eficiência (%) - Turno 2",
                data: [65.4, 77.2, 81.5],
                backgroundColor: "rgba(153, 102, 255, 0.6)"
            }]
        };

        const turno2Options = {
            responsive: true,
            plugins: {
                title: {
                    display: true,
                    text: "Eficiência dos Operadores - Turno 2"
                },
                datalabels: {
                    display: true,
                    color: 'black',
                    anchor: 'end',
                    align: 'top',
                    formatter: (value) => value.toFixed(2) + '%'  // Exibe o valor com duas casas decimais seguido de "%"
                }
            },
            scales: {
                y: {
                    beginAtZero: true,
                    max: 100
                }
            }
        };

        // Inicializar o gráfico do turno 2
        const turno2Chart = new Chart(
            document.getElementById("turno2").getContext("2d"),
            {
                type: "bar",
                data: turno2Data,
                options: turno2Options
            }
        );

        // Configuração dos dados e opções para o gráfico comparativo
        const comparativoData = {
            labels: ["Período 1", "Período 2"],
            datasets: [{
                label: "Média de Eficiência (%)",
                data: [82.3, 76.9],
                backgroundColor: ["#36a2eb", "#ff6384"]
            }]
        };

        const comparativoOptions = {
            responsive: true,
            plugins: {
                title: {
                    display: true,
                    text: "Comparativo de Eficiência"
                },
                datalabels: {
                    display: true,
                    color: 'black',
                    anchor: 'end',
                    align: 'top',
                    formatter: (value) => value.toFixed(2) + '%'
                }
            },
            scales: {
                y: {
                    beginAtZero: true,
                    max: 100
                }
            }
        };

        // Inicializar o gráfico comparativo
        const comparativoChart = new Chart(
            document.getElementById("comparativo").getContext("2d"),
            {
                type: "bar",
                data: comparativoData,
                options: comparativoOptions
            }
        );
    </script>
</body>
</html>
